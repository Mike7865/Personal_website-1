(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{418:function(e,t,a){},434:function(e,t){},476:function(e,t,a){"use strict";var r=a(418);a.n(r).a},498:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("card",{staticClass:"new-review"},[a("div",{staticClass:"new-review__header",attrs:{slot:"title"},slot:"title"},[e._v("Новый отзыв")]),a("template",{slot:"content"},[a("form",{staticClass:"new-review__form",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("div",{staticClass:"new-review__photo"},[a("avatar-upload",{attrs:{"error-message":e.validation.firstError("reviewData.photo")},model:{value:e.reviewData.photo,callback:function(t){e.$set(e.reviewData,"photo",t)},expression:"reviewData.photo"}})],1),a("div",{staticClass:"new-review__name"},[a("simple-input",{attrs:{label:"Имя автора","error-message":e.validation.firstError("reviewData.author")},model:{value:e.reviewData.author,callback:function(t){e.$set(e.reviewData,"author",t)},expression:"reviewData.author"}})],1),a("div",{staticClass:"new-review__position"},[a("simple-input",{attrs:{label:"Титул автора","error-message":e.validation.firstError("reviewData.position")},model:{value:e.reviewData.position,callback:function(t){e.$set(e.reviewData,"position",t)},expression:"reviewData.position"}})],1),a("div",{staticClass:"new-review__text"},[a("simple-textarea",{attrs:{label:"Отзыв","error-message":e.validation.firstError("reviewData.text")},model:{value:e.reviewData.text,callback:function(t){e.$set(e.reviewData,"text",t)},expression:"reviewData.text"}})],1),a("div",{staticClass:"new-review__controls"},[a("basic-button",{staticClass:"new-review__button",attrs:{size:"small",display:"flat"},on:{click:function(t){return e.$emit("reset")}}},[e._v("Отмена")]),a("basic-button",{staticClass:"new-review__button new-review__button_save",attrs:{type:"submit",size:"small",bordered:!0}},[e._v("Сохранить")])],1)])])],2)};r._withStripped=!0;var i=a(431);function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){o(e,t,a[t])})}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s={author:"",occ:"",text:"",photo:null},u={components:{Card:function(){return a.e(2).then(a.bind(null,506))},SimpleInput:function(){return a.e(5).then(a.bind(null,501))},SimpleTextarea:function(){return a.e(9).then(a.bind(null,503))},BasicButton:function(){return a.e(1).then(a.bind(null,504))},AvatarUpload:function(){return Promise.all([a.e(0),a.e(16)]).then(a.bind(null,500))}},props:{currentReview:{type:Object,default:null}},watch:{currentReview:function(){this.updateReviewData(),this.validation.reset()}},mixins:[a.n(i).a.mixin],data:function(){return{reviewData:{}}},validators:{"reviewData.author":function(e){return i.Validator.value(e).required("Введите автора")},"reviewData.occ":function(e){return i.Validator.value(e).required("Введите титул")},"reviewData.text":function(e){return i.Validator.value(e).required("Введите текст отзыва")},"reviewData.photo":function(e){return i.Validator.value(e).required("Загрузите фото")}},computed:{title:function(){return this.currentReview?"Редактирование отзыва":"Новый отзыв"}},methods:{updateReviewData:function(){this.reviewData=this.currentReview?n({},this.currentReview):n({},s)},onSubmit:function(){var e=this;this.$validate().then(function(t){if(t){var a=e.currentReview?"update":"create";e.$emit(a,e.reviewData),e.validation.reset()}})}},created:function(){this.updateReviewData()}},l=(a(476),a(92)),c=Object(l.a)(u,r,[],!1,null,"3cb3d328",null);c.options.__file="src/admin/components/ReviewForm.vue";t.default=c.exports}}]);